;已知在首地址为DATA的字数组中存放一系列有符号数（首元素为数据个数），试编 写一个程序求出它们的平均值放在变量AVER中，并求出数组中有多少个数大于该平均值，将 大于平均值的元素个数保存在变量COUNT中。（注意，这些数据的累加和可能超出-32768～ 32767之间）。要求使用堆栈作为主程序和子程序之间的参数传递方式
PROG SEGMENT
	ORG	100H
	ASSUME	CS:PROG,DS:PROG,ES:PROG,SS:PROG
MAIN	PROC NEAR
	LEA	AX,AVER
	PUSH AX
	MOV	AX,CNT
	PUSH AX
	LEA	AX,DATA
	PUSH 
	
	CALL AVERAGE
	
	MOV	AH,4CH
	INT	21H
DATA 	DW	32100,1200,864,-20002
CNT		EQU	($ - DATA)/2
COUNT	DW	?
AVER	DW	?
MAIN	ENDP

AVERAGE	PROC NEAR
	PUSH BP
	MOV	BP,SP
	PUSH AX
	PUSH BX
	PUSH CX
	PUSH DX
	PUSH DI
	PUSH SI
	XOR	SI,SI
	MOV	DI,SI
	MOV	BX,[BP+4]
	MOV	CX,[BP+6]
	PUSH CX
L1:	MOV	AX,[BX]
	CWD;32位
	ADD DI,AX
	ADC SI,DX
	ADD BX,2
	LOOP L1
	MOV	DX,SI
	MOV	AX,DI
	POP CX
	IDIV CX;求平均
	MOV	BX,[BP+8]
	MOV	[BX],AX
	
	POP SI
	POP DI
	POP DX
	POP CX
	POP BX
	POP AX
	POP BP
	RET
AVERAGE ENDP
PROG ENDS
	END	MAIN
	