;从键盘输入一系列字符（以回车符结束），冰按字母、数字及其他字符分类计数， 最后显示这三类的计数结果
S1	SEGMENT
CRLF	DB	0DH,0AH,24H
L	DB	"LETTER:",24H
N	DB	"NUMBER:",24H
O	DB	"OTHERS:",24H
S1	ENDS

S2	SEGMENT   STACK
	DW   60H DUP(?)
TOS	LABEL  WORD
S2	ENDS

S3	SEGMENT
	ASSUME DS:S1,SS:S2,CS:S3
MAIN	PROC  FAR
	MOV AX,S1
	MOV DS,AX
	MOV AX,S2
	MOV SS,AX
	LEA SP,TOS

	XOR	BX,BX
	XOR	CX,CX
	XOR	DX,DX
L0:	MOV AH,01H;输入
	INT 21H
	CMP AL,0DH;空格跳转输出
	JE	PRINT
	CMP AL,30H;数字
	JB	OTHER
	CMP	AL,39H
	JBE	NUM
	CMP	AL,41H;大写字母
	JB	OTHER
	CMP	AL,5AH
	JBE	LETTER;小写字母
	CMP	AL,61H
	JB	OTHER;其他情况
	CMP	AL,7AH
	JA	OTHER
LETTER:	INC	BX;数字数目加1
	JMP	L0
NUM:INC	CX;字母数目加1
	JMP	L0
OTHER:	INC	DX;其他字符数目加1
	JMP	L0
PRINT:	CALL	CRL;输出回车换行
	PUSH	DX
	LEA	DX,L;提示信息
	MOV	AH,09H
	INT 21H
	POP		DX
	CALL	BINDECI;结果
	CALL	CRL
	MOV	BX,CX
	PUSH	DX
	LEA	DX,N;提示信息
	MOV	AH,09H
	INT 21H
	POP		DX
	CALL	BINDECI;结果
	CALL	CRL
	MOV	BX,DX
	PUSH	DX
	LEA	DX,O;提示信息
	MOV	AH,09H
	INT 21H
	POP		DX
	CALL	BINDECI;结果

EXIT:	MOV	AH,4CH
	INT 	21H

MAIN ENDP

BINDECI	PROC NEAR;二进制转十进制输出
	PUSH	CX
	PUSH	DX
	XOR CX,CX;十进制输出
	MOV AX,BX
L2:	XOR DX,DX
	MOV BX,10
	DIV	BX
	PUSH DX
	INC CX
	CMP AX,0
	JNE L2
	
L3:	POP DX
	ADD DL,30H
	MOV	AH,02H
	INT 21H
	LOOP L3
	
	POP		DX
	POP		CX
	RET
BINDECI	ENDP

CRL	PROC NEAR;输出回车
	PUSH	DX
	LEA	DX,CRLF
	MOV	AH,09H
	INT	21H
	POP		DX
	RET
CRL	ENDP
S3	ENDS
	END	MAIN