;逆序输出字符串“BASED ADDRESSING”
S1	SEGMENT
MAXL 	DB	60
STRING	DB	60H DUP(?)
CRLF	DB	0DH,0AH,24H
RLEN	DB	?
S1	ENDS

S2	SEGMENT   STACK
	DW   60H DUP(?)
TOS	LABEL  WORD
S2	ENDS

S3	SEGMENT
	ASSUME DS:S1,SS:S2,CS:S3
MAIN	PROC  FAR
	MOV AX,S1
	MOV DS,AX
	MOV AX,S2
	MOV SS,AX
	LEA SP,TOS

	MOV CL,MAXL;字符串最大长度
	XOR CH,CH
	LEA SI,STRING
	
L1:	MOV	AH,01H
	INT 21H
	CMP AL,0DH;回车结束输入
	JE	FIN
	MOV	[SI],AL
	INC	SI 
	LOOP L1
	
FIN:MOV CX,SI
	LEA AX,STRING
	SUB	CX,AX
	MOV	RLEN,CL
	
	LEA DX,CRLF;回车换行
	MOV AH,09H
	INT 21H
	
L2:	DEC SI;倒序输出
	MOV DL,[SI]
	MOV AH,02H
	INT 21H
	LOOP L2
	
EXIT:	MOV	AH,4CH
	INT 	21H

MAIN	ENDP
	S3	ENDS
	END	MAIN
        

